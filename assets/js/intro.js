// Generated by CoffeeScript 1.7.1
(function() {
  var $, app;

  $ = jQuery;

  'use strict';

  app = angular.module('IntroApp', ['ngRoute', 'ui.router', 'LinkApp'], function() {});

  app.config(['$stateProvider', '$locationProvider', function() {}]);

  app.factory('$$Currency', function(ListCurrencyUrl, $http) {
    return $http.get(ListCurrencyUrl);
  });

  app.factory('$$Language', function(ListLanguageUrl, $http) {
    return $http.get(ListLanguageUrl);
  });

  app.controller('Slide', function($scope, $http, ImageIntroUrl) {
    return $http.get(ImageIntroUrl).success(function(data) {
      return $scope.images = data;
    });
  });

  app.controller('Language', function($scope, $rootScope, $$Language) {
    $$Language.success(function(data) {
      var _default;
      $scope.lists = data;
      _default = _.where($scope.lists, {
        "default": true
      });
      $scope.default_data = _default[0];
      $rootScope.language = $scope.default_data.code;
      return $rootScope.$emit('change_submit_data');
    });
    $scope.isActive = function(code) {
      return code === $scope.default_data.code;
    };
    return $scope.change = function(data) {
      $scope.default_data = data;
      $rootScope.language = $scope.default_data.code;
      return $rootScope.$emit('change_submit_data');
    };
  });

  app.controller('Currency', function($scope, $rootScope, $$Currency) {
    $$Currency.success(function(data) {
      var _default;
      $scope.lists = data;
      _default = _.where($scope.lists, {
        "default": true
      });
      $scope.default_data = _default[0];
      $rootScope.currency = $scope.default_data.code;
      return $rootScope.$emit('change_submit_data');
    });
    $scope.isActive = function(code) {
      return code === $scope.default_data.code;
    };
    return $scope.change = function(data) {
      $scope.default_data = data;
      $rootScope.currency = $scope.default_data.code;
      return $rootScope.$emit('change_submit_data');
    };
  });

  app.controller('FormSubmit', function($scope, $rootScope) {
    return $rootScope.$on('change_submit_data', function() {
      $scope.currency = $rootScope.currency;
      return $scope.language = $rootScope.language;
    });
  });

  app.directive('resizable', function($window) {
    var _delay;
    _delay = 0;
    return function($scope, $element, $attrs) {
      $scope.initializeWindowSize = function() {
        var Img, _images, _img, _window;
        $scope.windowHeight = $window.innerHeight;
        $scope.windowWidth = $window.innerWidth;
        if (_delay > 0) {
          _img = $($element).find('img');
          Img = new Image();
          Img.src = _img.attr('src');
          _window = {
            width: $window.innerWidth,
            height: $window.innerHeight,
            ration: $window.innerWidth / $window.innerHeight
          };
          _images = {
            width: Img.width,
            height: Img.height,
            ration: Img.width / Img.height
          };
          if (_window.ration > _images.ration && Img.width > 0) {
            return $("." + $attrs["class"]).find('img').css({
              width: "" + _window.width + "px",
              height: "" + _window.height + "px",
              minWidth: "" + _window.width + "px"
            });
          } else if (_window.ration < _images.ration && Img.width > 0) {
            return $("." + $attrs["class"]).find('img').css({
              width: "" + _window.width + "px",
              height: "" + _window.height + "px",
              minHeight: "" + _window.height + "px"
            });
          }
        }
      };
      $scope.initializeWindowSize();
      _delay++;
      return angular.element($window).bind('resize', function() {
        $scope.initializeWindowSize();
        return $scope.$apply();
      });
    };
  });

}).call(this);

//# sourceMappingURL=intro.map
